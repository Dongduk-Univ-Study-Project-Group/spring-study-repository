## 스프링부트 특징

---

- Auto Configuration (자동 설정) → 모듈을 추가할 시, 스프링과 다르게 자동으로 관련 설정을 찾아서 실행
- 내장 톰캣과 단독 실행 가능한 도구 → 별도의 서버 설정 없이도 개발 및 실행이 가능
- 톰캣이 내장된 상태로 프로젝트가 생성되기 때문에 WAS의 추가 설정이 필요하지 않음
- Thymeleaf라는 템플릿 엔진을 활용
    
    → Thymeleaf이란? 흔히 View Template(뷰 템플릿)이라고 부른다. 뷰 템플릿은 컨트롤러가 전달하는 데이터를 이용하여 동적으로 화면을 구성할 수 있게 해줌. JSP와 동일하게 서버에서 결과물을 생성해서 보내는 방식이지만 좀 더 HTML에 가깝게 작성할 수 있고, 다양한 기능들을 가지고 있음. 
    
- spring.jpa.hibernate.ddl-auto=update
    
    DDL문: 데이터 정의 언어로, 테이블의 구조를 생성, 수정, 제거를 위한 명령어
    들이다.
    
    |  none | DDL을 하지 않음 |
    | --- | --- |
    | create-drop | 실행할 때 DDL을 실행하고 종료 시에 만들어진 테이블 등을 모두 삭제 |
    | create | 실행할 때마다 새롭게 테이블을 생성 |
    | update | 기존과 다르게 변경된 부분이 있을 때는 새로 생성 |
    | validate | 변경된 부분만 알려주고 종료 |
    
    update 속성값의 경우 테이블이 없을 때는 자동으로 생성하고 변경이 필요할 때는 alter table이 실행 됨. 테이블뿐만 아니라 인덱스나 외래키 등도 자동으로 처리 됨
    
- spring.jpa.properties.hibernate.format_sql=true
    
    실제로 실행되는 SQL을 포맷팅해서 알아보기 쉽게 출력
    
- spring.jpa.show-sql=true
    
    JPA가 실행하는 SQL을 같이 출력
    

1. 스프링 부트에서 웹 개발 
    - API 서버
        
        → JSP나 Thymeleaf 처럼 서버에서 화면과 관련된 내용을 만들어 내는 것이 아니라 순수한 데이터만 전송하는 방식. 과거에는 주로 XML을 이용했지만, 최근에는 JSON을 이용하는 것이 일반적
        
    - JSON (JavaScript Object Notation)
        
        →  구조를 가진 데이터(객체)를 자바스크립트의 ‘객체 표기법’으로 표현한 순수한 문자열
        
        → 문자열이기 때문에 데이터 교환 시에 프로그램 언어에 독립적이라는 장점이 있다.
        

## Thymeleaf

---

JSP를 대신하는 목적으로 작성된 라이브러리

- Thymeleaf는 Model로 전달된 데이터를 출력하기 위해서 HTML 태그 내에 ‘th:,,’로 시작하는 속성을 이용하거나 inlining을 이용한다.

## Spring Data JPA

---

### MyBatis vs JPA

<aside>
💡 자바에서는 데이터의 영속성을 위한 JDBC (Java Database Connectivity / 데이터베이스에 접속할 수 있도록 하는 자바 API) 를 지원해주는데, 이는 매핑 작업을 개발자가 일일히 수행해야 하는 번거로움이 있다.개발자가 직접 JDBC Programming을 하지 않도록 기능을 제공해주는 Persistence Framework인 SQL Mapper (MyBatis), ORM(JPA)가 생김.

</aside>

<aside>
💡 SQL Mapper

- **Object와 SQL의 필드를 매핑하여 데이터를 객체화 하는 기술**
    - 객체와 테이블 간의 관계를 매핑하는 것이 아님
    - SQL문을 직접 작성하고 쿼리 수행 결과를 어떠한 객체에 매핑할지 바인딩 하는 방법
    - DBMS에 종속적인 문제
    - EX) JdbcTemplate, MyBatis
</aside>

<aside>
💡 ORM

- **Object와 DB테이블을 매핑하여 데이터를 객체화하는 기술**
    - 객체와 관계형 데이터베이스의 데이터를 자동으로 매핑해 줌
    - 개발자가 반복적인 SQL을 직접 작성하지 않음
    - DBMS에 종속적이지 않음
</aside>

- **MyBatis**
    - 쿼리 기반 웹 애플리케이션을 개발할 때 가장 많이 사용되는 SQL 매퍼(Mapper) 프레임워크로 JDBC를 보다 편하게 사용하기 위해 개발됨.
    - **특징**
        
        → **SQL문이 코드로부터 완전히 분리**
         : 기존에는 DAO파일에 모든 SQL문을 작성하였다. 하지만 MyBatis에서는 Mapper 파일에 SQL코드를 입력해 놓고 DAO 파일에서 필요할 때마다 가져와서 사용할 수 있다.
        
        → **유지보수성 향상**
         : Mapper 파일에만 SQL 코드를 입력하고 나중에 SQL 코드를 변경할 때 이곳에서 유지보수만 하면, DAO에서는 아무런 영향을 받지 않는다. 왜냐하면 DAO에서는 Mapper파일에서 작성된 SQL 코드를 갖다 쓰기만 하기 때문이다.
        
    - **장점**
        
        → SQL 쿼리를 직접 작성하므로 최적화된 쿼리를 구현할 수 있다.
        
        → 엔티티에 종속받지 않고 다양한 테이블을 조합할 수 있다.
        
        → 복잡한 쿼리도 SQL 쿼리만 작성할 수 있다면 손쉽게 작성할 수 있다.
        
    - **단점**
        
        → 스키마 변경시 SQL 쿼리를 직접 수정해주어야 한다.
        
        → 반복된 쿼리가 발생하여 반복 작업이 있다.
        
        → 쿼리를 직접 작성하기 때문에 데이터베이스에 종속된 쿼리문이 발생할 수 있다. 데이터베이스 변경시 로직도 함께 수정해주어야 한다.
        
    
- **JPA**
    - Java Persistence API:  Java ORM 기술에 대한 API 표준 명세를 말한다.
    
    <aside>
    💡 JPA는 단순한 명세이기 때문에 JPA만 가지고는 어떤 구현 기술을 사용할 수 없다. 실제로 우리가 사용하는 Repository는 Spring Data JPA로 부터 제공되는 기술이다. Spring Data JPA는 JPA를 간편하게 사용하도록 만들어놓은 오픈 소스일 뿐이다. 이와 비슷한 기술로 Spring Data JPA, Spring Data Redis, Spring Data MongoDB 등과 같은 다양한 라이브러리가 존재 한다. 그리고 JPA를 사용하다 보면 Hibernate를 많이 사용하게 되는데 Hibernate는 JPA의 구현체라고 할 수 있다. Hibernate 이외에도 DataNucleus, EclipseLink 등 다양한 JPA 구현체가 존재한다. 그래도 우리가 Hibernate를 사용하는 것은 가장 범용적으로 다양한 기능을 제공하기 때문이다.
    
    </aside>
    
    - **특징**
        
        → CRUD 메소드 기본 제공
        
        → 데이터 정보가 바뀌어도 객체만 변경하면 되어서 객체 중심으로 개발 가능
        
    - **장점**
        
        → 1차캐시, 쓰기지연, 변경감지, 지연로딩을 제공하여 성능상 이점을 얻을 수 있다.
        
        → 데이터베이스에 종속적이지 않으므로 특정 쿼리를 사용하지 않아 추상적으로 기술 구현이 가능하다.
        
        → 엔티티로 관리되므로 스키마 변경시 엔티티만 수정하게 되면 엔티티를 사용하는 관련 쿼리는 자동으로 변경된 내역이 반영된다.
        
    - **단점**
        
        → JPA만 사용하여 복잡한 연산을 수행하기에는 다소 무리가 있다. (로직이 복잡하거나 불필요한 쿼리가 발생할 수 있다.)
        
        → 초기에는 생산성이 높을 수 있으나 점차 사용하다 보면 성능상 이슈가 발생할 수 있다.(N+1, FetchType, Proxy, 연관관계)